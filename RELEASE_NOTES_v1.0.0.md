# Release v1.0.0

## 🎉 八字命理分析系统 v1.0.0 正式发布

发布日期：2025-11-21

---

## ✨ 主要功能

### 核心功能
- 🎴 **AI 智能八字计算**：精确计算年柱、月柱、日柱、时柱（天干地支）
- 👤 **性别差异化分析**：男命侧重事业财运，女命侧重婚姻子女
- 📍 **城市智能识别**：AI 自动识别城市所在省份和经纬度
- ⏰ **真太阳时精确计算**：基于地理位置校正时辰，更准确
- ⭐ **星座运势分析**：结合西方星座学
- 🌙 **月相能量指引**：结合月相能量
- 🤖 **完全 AI 驱动**：支持 DeepSeek/OpenAI/自定义 API

### 用户体验
- 🎨 **现代化美观界面**：响应式设计，支持移动端
- 🚀 **一键启动**：自动打开浏览器，无需手动输入网址
- 🔍 **服务器状态检查**：实时检测，智能环境适配
- 📥 **日志下载功能**：完整的服务器日志下载
- 💡 **图形化启动器**：launcher.html 提供友好的启动引导

### 部署支持
- 🌐 **Vercel 免费部署**：已优化配置，开箱即用
- 🔧 **本地开发完美支持**：一键启动脚本
- 📊 **详细错误报告**：错误代码和技术细节
- 🔑 **前端 API 配置**：安全可靠，无需服务器端配置

---

## 🔧 技术栈

- **后端**：Node.js 14+ + Express 4.18
- **前端**：原生 HTML5/CSS3/JavaScript (ES6+)
- **AI 服务**：DeepSeek API / OpenAI API
- **部署平台**：Vercel（推荐）/ Render / Railway
- **包管理**：npm / yarn

---

## 🚀 快速开始

### 本地运行

**Windows 用户**：
```bash
# 双击运行
start.bat
```

**Mac/Linux 用户**：
```bash
# 运行启动脚本
./start.sh
```

**手动启动**：
```bash
npm install
npm run launch  # 自动打开浏览器
# 或
npm start       # 仅启动服务器
```

### 在线部署

1. 访问 [Vercel](https://vercel.com/signup)
2. 用 GitHub 登录
3. 导入 `OracleNexusHR` 仓库
4. 点击 Deploy
5. 获得免费域名（xxx.vercel.app）

详细部署指南请查看 [部署指南.md](./部署指南.md)

---

## 📝 更新日志

### v1.0.0 (2025-11-21)

#### 新增功能 ✨

1. **性别和城市功能**
   - 性别选择：男/女差异化分析
   - 出生城市输入
   - AI 智能识别城市省份和经纬度（精确到小数点后1位）
   - 真太阳时计算：`(120° - 经度) / 15 小时`

2. **自动启动功能**
   - start.js：Node.js 智能启动脚本
   - 自动检测服务器是否已运行
   - 自动打开默认浏览器
   - 跨平台支持（Windows/Mac/Linux）

3. **图形化启动器**
   - launcher.html：美观的启动引导页面
   - 实时服务器状态检测（每5秒自动检查）
   - 平台切换（Windows/Mac）
   - 一键复制启动命令

4. **日志系统**
   - 内存日志存储（最多1000条）
   - /api/logs 查看日志
   - /api/logs/download 下载日志文件
   - 结构化日志记录

5. **详细错误报告**
   - 错误代码（NETWORK_ERROR, HTTP_*, JSON_PARSE_ERROR等）
   - 错误消息和技术细节
   - 用户友好的错误提示

#### 优化改进 🚀

1. **Vercel 部署优化**
   - vercel.json 完整配置
   - 明确的 API 路由规则
   - 静态文件分离构建
   - 无服务器环境兼容

2. **智能环境检测**
   - 自动识别本地 vs 部署环境
   - 部署环境隐藏服务器状态检查
   - 本地环境保留完整功能

3. **命理分析增强**
   - 从 200 字升级到 300 字建议
   - 包含五行分析、喜用神判断
   - 性别特征差异化建议
   - 地域文化特色建议

4. **用户体验提升**
   - 3秒超时保护
   - AbortController 优雅处理
   - 详细的分步指南
   - 错误自动诊断提示

#### Bug 修复 🐛

1. **Vercel 部署问题**
   - ✅ 修复 API 调用失败
   - ✅ 修复服务器状态检查失灵
   - ✅ 修复 404 路由错误
   - ✅ 修复无服务器环境冲突

2. **API 调用优化**
   - ✅ DeepSeek API 端点验证
   - ✅ 网络错误捕获和重试
   - ✅ JSON 解析错误处理
   - ✅ 超时控制

3. **日志下载修复**
   - ✅ 修复下载失败问题
   - ✅ 添加服务器运行检查
   - ✅ 友好的错误提示

---

## 🎯 适用场景

- ✅ **个人命理咨询**：为自己或家人朋友分析命理
- ✅ **命理学习研究**：学习八字、五行、星座知识
- ✅ **AI 应用示例**：展示 AI 在传统文化中的应用
- ✅ **全栈项目参考**：完整的前后端分离架构示例

---

## 📚 文档

- [README.md](./README.md) - 项目介绍和快速开始
- [部署指南.md](./部署指南.md) - Vercel/Render/Railway 部署教程
- [快速使用指南.md](./快速使用指南.md) - 图文并茂的使用教程

---

## 🔐 安全提示

- ⚠️ **API Key 保护**：不要在代码中硬编码 API Key
- ⚠️ **前端配置**：使用前端配置 API Key（用户自己保管）
- ⚠️ **日志安全**：日志不包含敏感信息（API Key 已脱敏）
- ⚠️ **HTTPS 加密**：部署环境自动使用 HTTPS

---

## 💰 成本预估

### API 费用（DeepSeek 推荐）

- **单次分析**：约 ¥0.01 - 0.02
- **DeepSeek 价格**：¥1/百万 tokens
- **OpenAI 价格**：$0.5-2/百万 tokens

### 部署费用

- **Vercel**：免费（个人项目）
- **Render**：免费（有休眠限制）
- **Railway**：免费额度后按量计费

---

## 🌟 特色亮点

1. **首个基于 AI 的八字计算系统**
   - 不依赖传统算法库
   - 完全由 AI 理解和计算
   - 更灵活准确

2. **真太阳时精确计算**
   - 考虑地理位置差异
   - 时辰判断更准确
   - 八字更精确

3. **性别和地域特色**
   - 男女命理侧重不同
   - 结合地域文化
   - 个性化建议

4. **完整的部署方案**
   - 开箱即用的 Vercel 配置
   - 详细的部署文档
   - 环境自适应

5. **优秀的开发体验**
   - 一键启动
   - 自动打开浏览器
   - 图形化启动器
   - 完善的错误提示

---

## ⚠️ 重要提示

1. **API Key 必需**
   - 需要 DeepSeek 或 OpenAI API Key
   - 建议使用 DeepSeek（价格实惠，中文支持好）
   - 获取地址：https://platform.deepseek.com/

2. **网络要求**
   - 需要能访问 AI API 服务
   - OpenAI 在中国大陆可能需要代理

3. **Node.js 版本**
   - 要求 Node.js >= 14.0.0
   - 推荐使用 LTS 版本

4. **浏览器兼容性**
   - 现代浏览器（Chrome, Firefox, Safari, Edge）
   - 不支持 IE11

---

## 🙏 致谢

感谢所有用户的反馈和支持！

特别感谢：
- DeepSeek 提供优质的 AI API 服务
- Vercel 提供免费的部署平台
- 所有提供反馈和建议的用户

---

## 📞 支持与反馈

如遇到问题或有建议，请：
1. 查看文档：[部署指南.md](./部署指南.md)
2. 下载服务器日志：点击"📥 下载服务器日志"按钮
3. 提交 Issue 到 GitHub 仓库

---

**版本**: v1.0.0
**发布日期**: 2025-11-21
**状态**: ✅ 稳定版本
**下载**: [GitHub Releases](https://github.com/YOUR_USERNAME/OracleNexusHR/releases/tag/v1.0.0)

---

## 🚀 下一步计划

v1.1.0 规划：
- [ ] 支持更多 AI 模型
- [ ] 添加历史记录功能
- [ ] 支持批量分析
- [ ] 移动端 App
- [ ] 多语言支持

敬请期待！
